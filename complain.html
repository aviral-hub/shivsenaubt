<!DOCTYPE html>
<html lang="mr" x-data="{ lang: 'mr', loading: false, success: false }">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shiv Sena (UBT) Ballarpur | Jan-Seva Portal</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Outfit:wght@300;600;900&display=swap');
        body { font-family: 'Outfit', sans-serif; background-color: #050505; color: white; scroll-behavior: smooth; }
        .sena-gradient { background: linear-gradient(135deg, #FF6634 0%, #CC4400 100%); }
        .sidebar-border { border-left: 4px solid #FF6634; }
        .choice-input:checked + .choice-card { background-color: rgba(255, 102, 52, 0.1); border-color: #FF6634; }
        [x-cloak] { display: none !important; }
        
        /* Loading Spinner */
        .spinner { border: 3px solid rgba(255,255,255,.3); border-radius: 50%; border-top-color: #fff; width: 20px; height: 20px; animation: spin 1s linear infinite; }
        @keyframes spin { to { transform: rotate(360deg); } }
    </style>
</head>
<body class="antialiased">

    <header class="py-8 px-6 border-b border-white/10 bg-gradient-to-b from-orange-950/20 to-transparent relative z-20">
        <div class="container mx-auto flex justify-between items-center">
            <div class="flex items-center gap-4">
                <img src="https://www.shivsena.in/images/logo.png" class="h-12 w-12" alt="Sena Logo">
                <div>
                    <h1 class="text-xl font-black uppercase tracking-tighter italic">‡§∂‡§ø‡§µ‡§∏‡•á‡§®‡§æ (‡§â‡§¨‡§æ‡§†‡§æ)</h1>
                    <p class="text-orange-500 font-bold uppercase tracking-widest text-[8px]">‡§¨‡§≤‡•ç‡§≤‡§æ‡§∞‡§™‡•Ç‡§∞ ‡§µ‡§ø‡§ß‡§æ‡§®‡§∏‡§≠‡§æ</p>
                </div>
            </div>
            <div class="flex bg-white/5 p-1 rounded-full border border-white/10">
                <button @click="lang = 'mr'" :class="lang === 'mr' ? 'bg-orange-600 text-white' : 'text-gray-400'" class="px-4 py-1.5 rounded-full text-[9px] font-black transition-all">‡§Æ‡§∞‡§æ‡§†‡•Ä</button>
                <button @click="lang = 'en'" :class="lang === 'en' ? 'bg-orange-600 text-white' : 'text-gray-400'" class="px-4 py-1.5 rounded-full text-[9px] font-black transition-all">ENGLISH</button>
            </div>
        </div>
    </header>

    <section class="pt-12 pb-8 px-6 text-center">
        <h2 class="text-3xl font-black uppercase italic tracking-tighter" x-text="lang === 'mr' ? '‡§ú‡§®-‡§∏‡•á‡§µ‡§æ ‡§§‡§ï‡•ç‡§∞‡§æ‡§∞ ‡§®‡§ø‡§µ‡§æ‡§∞‡§£' : 'Public Grievance Portal'"></h2>
        <p class="text-gray-500 text-xs font-bold uppercase tracking-widest mt-2">‡§™‡•Å‡§¢‡§æ‡§ï‡§æ‡§∞: ‡§∏‡§ø‡§ï‡•ç‡§ï‡§æ ‡§Ø‡§æ‡§¶‡§µ | ‡§Æ‡§æ‡§∞‡•ç‡§ó‡§¶‡§∞‡•ç‡§∂‡§ï: ‡§™‡•ç‡§∞‡§ï‡§æ‡§∂ ‡§™‡§æ‡§†‡§ï</p>
    </section>

    <section class="max-w-2xl mx-auto px-6 pb-24">
        <div x-show="success" x-cloak class="bg-green-500/20 border border-green-500 p-6 rounded-2xl text-center mb-8">
            <p class="font-black text-green-500 uppercase tracking-widest text-sm">‡§®‡•ã‡§Ç‡§¶‡§£‡•Ä ‡§Ø‡§∂‡§∏‡•ç‡§µ‡•Ä! WhatsApp ‡§â‡§ò‡§°‡§§ ‡§Ü‡§π‡•á...</p>
        </div>
        
        <form id="mainPortalForm" class="space-y-8">
            <div class="sidebar-border pl-6 space-y-4">
                <h3 class="text-sm font-black text-orange-500 uppercase tracking-widest">‡•ß. ‡§§‡•Å‡§Æ‡§ö‡•Ä ‡§Æ‡§æ‡§π‡§ø‡§§‡•Ä</h3>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <input type="text" name="name" id="vName" placeholder="‡§®‡§æ‡§µ (Name)" class="bg-white/5 border border-white/10 p-4 rounded-xl text-sm outline-none" required>
                    <div class="flex gap-2">
                        <input type="tel" name="phone" id="vPhone" placeholder="‡§Æ‡•ã‡§¨‡§æ‡§à‡§≤" class="flex-1 bg-white/5 border border-white/10 p-4 rounded-xl text-sm outline-none" required>
                        <select name="ward" id="vWard" class="w-24 bg-white/5 border border-white/10 p-4 rounded-xl text-xs font-bold text-orange-500" required>
                            <option value="">‡§µ‡§æ‡§∞‡•ç‡§°</option>
                            <script>for(let i=1;i<=32;i++) document.write(`<option value="${i}">${i}</option>`)</script>
                        </select>
                    </div>
                </div>
            </div>

            <div class="sidebar-border pl-6 space-y-4">
                <h3 class="text-sm font-black text-orange-500 uppercase tracking-widest">‡•®. ‡§∞‡§æ‡§π‡§£‡•ç‡§Ø‡§æ‡§ö‡§æ ‡§™‡§§‡•ç‡§§‡§æ</h3>
                <textarea name="address" id="vAddress" rows="3" placeholder="‡§â‡§¶‡§æ. ‡§ò‡§∞ ‡§ï‡•ç‡§∞‡§Æ‡§æ‡§Ç‡§ï, ‡§ó‡§≤‡•ç‡§≤‡•Ä, ‡§≤‡§Å‡§°‡§Æ‡§æ‡§∞‡•ç‡§ï..." class="w-full bg-white/5 border border-white/10 p-4 rounded-xl text-sm outline-none" required></textarea>
            </div>

            <div class="sidebar-border pl-6 space-y-4">
                <h3 class="text-sm font-black text-orange-500 uppercase tracking-widest">‡•©. ‡§∏‡§Æ‡§∏‡•ç‡§Ø‡•á‡§ö‡§æ ‡§™‡•ç‡§∞‡§ï‡§æ‡§∞</h3>
                <div class="grid grid-cols-2 md:grid-cols-4 gap-3">
                    <label class="cursor-pointer relative">
                        <input type="radio" name="issue_type" value="Water" class="hidden choice-input" checked>
                        <div class="choice-card p-4 border border-white/10 text-center rounded-2xl">
                            <span class="block text-xl mb-1">üö∞</span>
                            <span class="text-[9px] font-black uppercase tracking-widest">‡§™‡§æ‡§£‡•Ä</span>
                        </div>
                    </label>
                    <label class="cursor-pointer relative">
                        <input type="radio" name="issue_type" value="Roads" class="hidden choice-input">
                        <div class="choice-card p-4 border border-white/10 text-center rounded-2xl">
                            <span class="block text-xl mb-1">üõ£Ô∏è</span>
                            <span class="text-[9px] font-black uppercase tracking-widest">‡§∞‡§∏‡•ç‡§§‡•á</span>
                        </div>
                    </label>
                    <label class="cursor-pointer relative">
                        <input type="radio" name="issue_type" value="Light" class="hidden choice-input">
                        <div class="choice-card p-4 border border-white/10 text-center rounded-2xl">
                            <span class="block text-xl mb-1">üí°</span>
                            <span class="text-[9px] font-black uppercase tracking-widest">‡§µ‡§ø‡§¶‡•ç‡§Ø‡•Å‡§§</span>
                        </div>
                    </label>
                    <label class="cursor-pointer relative">
                        <input type="radio" name="issue_type" value="Other" class="hidden choice-input">
                        <div class="choice-card p-4 border border-white/10 text-center rounded-2xl">
                            <span class="block text-xl mb-1">‚öôÔ∏è</span>
                            <span class="text-[9px] font-black uppercase tracking-widest">‡§á‡§§‡§∞</span>
                        </div>
                    </label>
                </div>
            </div>

            <div class="sidebar-border pl-6 space-y-4">
                <h3 class="text-sm font-black text-orange-500 uppercase tracking-widest">‡•™. ‡§∏‡§Æ‡§∏‡•ç‡§Ø‡§æ ‡§§‡§™‡§∂‡•Ä‡§≤</h3>
                <textarea name="message" id="vMsg" rows="4" placeholder="‡§∏‡§Æ‡§∏‡•ç‡§Ø‡§æ ‡§•‡•ã‡§°‡§ï‡•ç‡§Ø‡§æ‡§§ ‡§∏‡§æ‡§Ç‡§ó‡§æ..." class="w-full bg-white/5 border border-white/10 p-4 rounded-xl text-sm outline-none" required></textarea>
            </div>

            <button type="submit" :disabled="loading" class="w-full sena-gradient hover:opacity-90 py-5 rounded-2xl font-black text-sm uppercase tracking-[0.2em] shadow-lg flex justify-center items-center gap-3">
                <template x-if="loading"><div class="spinner"></div></template>
                <span x-text="loading ? '‡§™‡•ç‡§∞‡§ï‡•ç‡§∞‡§ø‡§Ø‡§æ ‡§∏‡•Å‡§∞‡•Ç ‡§Ü‡§π‡•á...' : '‡§®‡•ã‡§Ç‡§¶‡§£‡•Ä ‡§ï‡§∞‡§æ | SUBMIT'"></span>
            </button>
        </form>
    </section>

    <script>
        document.getElementById('mainPortalForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            const alpineData = document.querySelector('[x-data]').__x.$data;
            alpineData.loading = true;

            const formData = new FormData(this);
            const data = Object.fromEntries(formData.entries());

            // 1. SEND TO FORMSPREE IN BACKGROUND
            try {
                const response = await fetch("https://formspree.io/f/meeeqrad", {
                    method: "POST",
                    body: JSON.stringify(data),
                    headers: { 'Accept': 'application/json', 'Content-Type': 'application/json' }
                });

                if (response.ok) {
                    alpineData.success = true;
                    
                    // 2. CONSTRUCT WHATSAPP MESSAGE
                    const waText = `üö© *‡§∂‡§ø‡§µ‡§∏‡•á‡§®‡§æ ‡§ú‡§®-‡§∏‡•á‡§µ‡§æ ‡§¨‡§≤‡•ç‡§≤‡§æ‡§∞‡§™‡•Ç‡§∞* üö©%0A%0A*‡§Æ‡§§‡§¶‡§æ‡§∞:* ${data.name}%0A*‡§Æ‡•ã‡§¨‡§æ‡§à‡§≤:* ${data.phone}%0A*‡§µ‡§æ‡§∞‡•ç‡§°:* ${data.ward}%0A*‡§™‡§§‡•ç‡§§‡§æ:* ${data.address}%0A%0A*‡§µ‡§ø‡§∑‡§Ø:* ${data.issue_type}%0A*‡§§‡§ï‡•ç‡§∞‡§æ‡§∞:* ${data.message}%0A%0A_Initiative by Sikki Yadav & Prakash Pathak_`;

                    // 3. OPEN WHATSAPP
                    setTimeout(() => {
                        window.open(`https://wa.me/917020729200?text=${waText}`, '_blank');
                        alpineData.loading = false;
                        this.reset();
                    }, 1000);
                } else {
                    alert("Submission Error. Please try again.");
                    alpineData.loading = false;
                }
            } catch (error) {
                alert("Network Error. Check your connection.");
                alpineData.loading = false;
            }
        });
    </script>
</body>
</html>
