<!DOCTYPE html>
<html lang="mr" x-data="membershipSystem()">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shiv Sena UBT | Digital Membership</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Outfit:wght@400;900&display=swap');
        body { font-family: 'Outfit', sans-serif; background: #050505; color: white; }
        .id-card-glow { box-shadow: 0 0 40px -10px rgba(255, 102, 52, 0.5); }
        .sena-gradient { background: linear-gradient(135deg, #FF6634 0%, #CC4400 100%); }
        .step-badge { @apply w-6 h-6 rounded-full bg-orange-500 text-black text-[10px] font-black flex items-center justify-center; }
        [x-cloak] { display: none !important; }
    </style>
</head>
<body class="antialiased min-h-screen flex flex-col items-center py-6">

    <div class="text-center mb-6 px-6">
        <img src="https://www.shivsena.in/images/logo.png" class="h-14 mx-auto mb-2" alt="Logo">
        <h1 class="text-2xl font-black uppercase italic tracking-tighter">‡§°‡§ø‡§ú‡§ø‡§ü‡§≤ ‡§∏‡§¶‡§∏‡•ç‡§Ø ‡§®‡•ã‡§Ç‡§¶‡§£‡•Ä</h1>
    </div>

    <div class="w-full max-w-sm px-6">
        
        <div x-show="!isGenerated" class="bg-[#111] p-6 rounded-[2rem] border border-white/5 space-y-5">
            <div class="flex flex-col items-center">
                <label class="cursor-pointer group relative">
                    <input type="file" @change="handlePhoto" class="hidden" accept="image/*">
                    <div class="w-20 h-20 rounded-full border-2 border-dashed border-gray-700 flex items-center justify-center overflow-hidden group-hover:border-orange-500 transition-all">
                        <template x-if="!photo"><span class="text-[8px] text-gray-500 font-black uppercase text-center">‡§´‡•ã‡§ü‡•ã<br>UPLOAD</span></template>
                        <template x-if="photo"><img :src="photo" class="w-full h-full object-cover"></template>
                    </div>
                </label>
            </div>
            <input type="text" x-model="formData.name" placeholder="‡§™‡•Ç‡§∞‡•ç‡§£ ‡§®‡§æ‡§µ (Full Name)" class="w-full bg-black border border-white/10 p-4 rounded-xl text-sm outline-none focus:border-orange-500">
            <input type="tel" x-model="formData.phone" placeholder="‡§Æ‡•ã‡§¨‡§æ‡§à‡§≤ ‡§®‡§Ç‡§¨‡§∞" class="w-full bg-black border border-white/10 p-4 rounded-xl text-sm outline-none">
            <button @click="generateCard" :disabled="loading" class="w-full sena-gradient py-4 rounded-xl font-black text-xs uppercase tracking-widest shadow-xl">
                <span x-text="loading ? '‡§™‡•ç‡§∞‡§§‡•Ä‡§ï‡•ç‡§∑‡§æ ‡§ï‡§∞‡§æ...' : '‡§ï‡§æ‡§∞‡•ç‡§° ‡§§‡§Ø‡§æ‡§∞ ‡§ï‡§∞‡§æ'"></span>
            </button>
        </div>

        <div x-show="isGenerated" x-cloak class="space-y-6">
            
            <div class="bg-orange-500/10 border border-orange-500/20 p-4 rounded-2xl space-y-3">
                <h4 class="text-orange-500 font-black text-[10px] uppercase tracking-widest">‡§ï‡§∏‡•á ‡§∂‡•á‡§Ö‡§∞ ‡§ï‡§∞‡§æ‡§µ‡•á? (Sharing Steps)</h4>
                <div class="space-y-2">
                    <div class="flex items-center gap-3 text-[11px] font-bold">
                        <span class="step-badge">1</span> 'Download Card' ‡§µ‡§∞ ‡§ï‡•ç‡§≤‡§ø‡§ï ‡§ï‡§∞‡•Ç‡§® ‡§´‡•ã‡§ü‡•ã ‡§∏‡•á‡§µ‡•ç‡§π ‡§ï‡§∞‡§æ.
                    </div>
                    <div class="flex items-center gap-3 text-[11px] font-bold">
                        <span class="step-badge">2</span> ‡§ñ‡§æ‡§≤‡•Ä ‡§¶‡§ø‡§≤‡•á‡§≤‡§æ 'Copy Caption' ‡§¨‡§ü‡§® ‡§¶‡§æ‡§¨‡§æ.
                    </div>
                    <div class="flex items-center gap-3 text-[11px] font-bold">
                        <span class="step-badge">3</span> WhatsApp/FB ‡§µ‡§∞ ‡§´‡•ã‡§ü‡•ã ‡§ü‡§æ‡§ï‡•Ç‡§® ‡§ï‡•Ö‡§™‡•ç‡§∂‡§® ‡§™‡•á‡§∏‡•ç‡§ü ‡§ï‡§∞‡§æ!
                    </div>
                </div>
            </div>

            <div id="captureArea" class="id-card-glow bg-[#151515] rounded-[2rem] overflow-hidden relative aspect-[3/4.2] flex flex-col border border-white/10">
                <div class="sena-gradient p-5 text-center">
                    <img src="https://www.shivsena.in/images/logo.png" class="h-8 mx-auto mb-1 brightness-0 invert" alt="">
                    <h2 class="text-lg font-black italic uppercase">Digital Member</h2>
                </div>
                <div class="flex-1 flex flex-col items-center justify-center p-6 text-center space-y-4">
                    <div class="w-28 h-28 rounded-2xl border-4 border-orange-500/20 overflow-hidden shadow-xl">
                        <img :src="photo" class="w-full h-full object-cover">
                    </div>
                    <div>
                        <h3 class="text-xl font-black tracking-tight uppercase" x-text="formData.name"></h3>
                        <p class="text-orange-500 font-bold text-[9px] uppercase tracking-[0.2em]">Ballarpur Constituency</p>
                    </div>
                </div>
                <div class="bg-black/40 p-5 flex justify-between items-end border-t border-white/5">
                    <div class="text-left">
                        <p class="text-[7px] text-orange-500 font-black uppercase">Leadership</p>
                        <p class="text-[9px] font-bold leading-tight">Sikki Yadav<br>Prakash Pathak</p>
                    </div>
                    <div class="text-right text-[8px] font-bold text-gray-500 uppercase italic">Active Member 2026</div>
                </div>
            </div>

            <div class="grid grid-cols-2 gap-3">
                <button @click="downloadID" class="bg-white text-black py-4 rounded-xl font-black text-[10px] uppercase tracking-widest flex items-center justify-center gap-2">
                    üì• Download Card
                </button>
                <button @click="copyCaption" class="bg-blue-600 text-white py-4 rounded-xl font-black text-[10px] uppercase tracking-widest flex items-center justify-center gap-2">
                    üìã <span x-text="copyText">Copy Caption</span>
                </button>
            </div>
            
            <button @click="isGenerated = false" class="w-full text-gray-600 font-bold text-[9px] uppercase text-center">‡§®‡§µ‡•Ä‡§® ‡§®‡•ã‡§Ç‡§¶‡§£‡•Ä ‡§ï‡§∞‡§æ</button>
        </div>
    </div>

    <script>
        function membershipSystem() {
            return {
                isGenerated: false,
                loading: false,
                photo: null,
                copyText: 'Copy Caption',
                formData: { name: '', phone: '' },
                caption: `‡§Æ‡•á‡§∞‡§æ ‡§∂‡§ø‡§µ‡§∏‡•á‡§®‡§æ ‡§∏‡§¶‡§∏‡•ç‡§Ø‡§§‡§æ ‡§ï‡§æ‡§∞‡•ç‡§° ‡§§‡•à‡§Ø‡§æ‡§∞ ‡§π‡•à! üí™\n‡§∂‡§ø‡§µ‡§∏‡•á‡§®‡§æ ‡§™‡§∞‡§ø‡§µ‡§æ‡§∞ ‡§ï‡§æ ‡§π‡§ø‡§∏‡•ç‡§∏‡§æ ‡§¨‡§®‡§ï‡§∞ ‡§ó‡§∞‡•ç‡§µ ‡§Æ‡§π‡§∏‡•Ç‡§∏ ‡§π‡•ã ‡§∞‡§π‡§æ ‡§π‡•à‡•§\n‡§ú‡•Å‡§°‡§º‡•á‡§Ç ‡§î‡§∞ ‡§Ö‡§™‡§®‡•Ä ‡§∂‡§ø‡§µ‡§∏‡•à‡§®‡§ø‡§ï ‡§™‡§π‡§ö‡§æ‡§® ‡§™‡§æ‡§è‡§Ç! üö©\nüëâ https://shivsenaubt.vercel.app/membership.html\n‡§ú‡§Ø ‡§Æ‡§π‡§æ‡§∞‡§æ‡§∑‡•ç‡§ü‡•ç‡§∞!`,

                handlePhoto(e) {
                    const file = e.target.files[0];
                    const reader = new FileReader();
                    reader.onload = (f) => { this.photo = f.target.result; };
                    reader.readAsDataURL(file);
                },

                generateCard() {
                    if(!this.photo || !this.formData.name) { alert("‡§®‡§æ‡§µ ‡§Ü‡§£‡§ø ‡§´‡•ã‡§ü‡•ã ‡§Ü‡§µ‡§∂‡•ç‡§Ø‡§ï ‡§Ü‡§π‡•á!"); return; }
                    this.loading = true;
                    setTimeout(() => { this.loading = false; this.isGenerated = true; }, 1000);
                },

                downloadID() {
                    const el = document.getElementById('captureArea');
                    html2canvas(el, { scale: 3, useCORS: true }).then(canvas => {
                        const link = document.createElement('a');
                        link.download = `Sena_Card_${this.formData.name}.png`;
                        link.href = canvas.toDataURL("image/png");
                        link.click();
                    });
                },

                copyCaption() {
                    navigator.clipboard.writeText(this.caption);
                    this.copyText = 'Copied! ‚úÖ';
                    setTimeout(() => { this.copyText = 'Copy Caption'; }, 2000);
                }
            }
        }
    </script>
</body>
</html>
